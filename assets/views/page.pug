<!DOCTYPE html>
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    meta(http-equiv="X-UA-Compatible", content="ie=edge")
    link(rel="stylesheet", href="css/main.css")
    link(rel="stylesheet", href="https://fonts.googleapis.com/css?family=Raleway:300,400,600")
    title LCM Meals - improveit
  body
    .container.page
      .header
        h2 A Clever Title Goes Here.
      h6.petition-header the problem
      p
        | Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        | Duis viverra pulvinar urna, quis lacinia tellus commodo sed.
        | Aliquam iaculis, elit at maximus volutpat, lacus turpis egestas tellus, eget consequat nunc velit nec tortor. 
      h6.petition-header my solution
      p
        | Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        | Duis viverra pulvinar urna, quis lacinia tellus commodo sed.
        | Aliquam iaculis, elit at maximus volutpat, lacus turpis egestas tellus, eget consequat nunc velit nec tortor.
      h6.petition-header okay, now what?
      p
        | Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        | Duis viverra pulvinar urna, quis lacinia tellus commodo sed.
        | Aliquam iaculis, elit at maximus volutpat, lacus turpis egestas tellus, eget consequat nunc velit nec tortor.
      hr
      form#petition
        .row
          .one-third.column
            label(for="first-name") First Name
            input#first-name.u-full-width(type="text", name='firstName', placeholder="John", spellcheck="false", autocorrect="off")
          .one-third.column
            label(for="last-name") Last Name
            input#last-name.u-full-width(type="text", name='lastName', placeholder="Doe", spellcheck="false", autocorrect="off")
          .one-third.column
            label(for="email-address") Email Address
            input#email-address.u-full-width(type="email", name="email", placeholder="j.doe@example.com", spellcheck="false", autocorrect="off")
      .centered
        button.g-recaptcha.button-primary(data-sitekey="6LdmqA4UAAAAACZgLVkjkCnSMdccwEuf7tVJguZb", data-callback="onSubmit") Sign Petition
    footer
      script(src="https://www.google.com/recaptcha/api.js", async, defer)
      script(src="https://unpkg.com/axios/dist/axios.min.js")
      script.
        function onSubmit(token) {
          axios({
            method: 'post',
            url: 'api/contributor',
            data: new FormData(document.getElementById('petition')),
            config: { headers: {'Content-Type': 'multipart/form-data' }},
          }).then(res => {
            console.log('res', res);
          }).catch(err => {
            console.error('err', err);
          });
          console.log('token', token);
        }
